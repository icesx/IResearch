### 不变模式
1. 不变模式解决的是如何处理共享对象的问题。当多个对象使用或修改同一个类实例——也就是共享对象的时候，往往会有同步问题；而在多线程异步调用的情况下，则更难以控制这个共享对象的状态。
2. 一种解决办法是，使用了Lock的机制来锁住对象，强制进行同步，但是会增加额外的开销。所以，能避免尽量避免使用Lock。故而，有另一种解决方案：即新建一个有着不同内容的对象，来替换原对象，其中，旧对象中未改变的值会复制到新对象中，而改变的值会使用新值——这种实现方式就称为不变模式。

### 不变模式与享元模式的关系


（1）享元模式以共享方式支持大量的实例。享元模式中的享元对象可以是不变对象。实际上，大多数的享元对象是不变对象。

（2）但是，必须指出享元模式并不要求享元对象是不变对象。享元模式要求享元对象的内部状态不随环境变化而变化，这是使享元对象可以共享的条件。当然，如果享元对象成为不变对象的话，是满足享元模式要求的。

（3）享元模式对享元对象的要求是它的内部状态与环境无关。这就意味着如果享元对象具有某个可变的状态，但是只要不会影响享元对象的共享，它是允许的。

（4）不变模式对不变对象的约束较强，而享元模式对享元对象的约束较弱。只要系统允许，可以使用不变模式实现享元对象，但是享元对象不一定非得是不变对象不可。
